<!DOCTYPE html>
<html>

<head>
    <title>h5 video test page</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="./css/h5player.css">
</head>

<body>
    <div class="live-h5player-container" id="live-h5player-container">
    	<div class="live-h5player-status">
            <!-- 直播开场 -->
            <img src="./imgs/h5player/slogan.png" alt="" class="live-opening">
            <!-- 直播缓冲 -->
            <div class="live-loading">
        		<img src="./imgs/h5player/loading.png" alt="" class="live-loading-icon">
                <p class="live-loading-text">缓冲中</p>
            </div>
            <!-- 直播时长 -->
            <p class="live-time live-time-hidden"><span class="red-ball"></span>&nbsp;<span class="live-time-now">已开播：3小时22分钟</span></p>
            <!-- 不支持自动播放 -->
            <div class="h5player-unsupport-autoplay">
                <div class="unsupport-autoplay-box">
                    <img src="./imgs/h5player/no_autoplay.png" alt="" class="unsupport-autoplay-icon"> 
                    <p class="unsupport-autoplay-tip">您的浏览器暂不支持视频自动播放</p>
                    <div class="unsupport-autoplay-btn">点击播放</div>
                </div>
            </div>
             <!-- 直播结束 -->
            <div class="live-over">
                <div class="live-over-tip">
                    <img src="./imgs/h5player/over/live_over_icon@2x.png" alt="" class="live-over-icon">
                    <div class="live-over-text">
                        <p class="live-over-title">直播已结束</p>
                        <p class="live-over-detail">xxx的直播已结束，喜欢就点击关注吧！</p>
                    </div>
                </div>
                <div class="live-over-recommend">
                    <a class="recommend-item recommend-item-video" href="">
                         <img src="https://kascdn.kascend.com/jellyfish/game/video/screenshot/907644079/1540840850261_crop.jpg" alt="" class="live-over-rec-img">
                        <div class="rec-info-box">
                            <p class="rec-info-title ellipsis">卡尔讲堂开讲啦</p>
                            <div class="rec-info-content">
                                <i class="live-over-video-gift"></i>
                                <span>3.8万</span>
                                <i class="live-over-video-play"></i>
                                <span>3.8万</span>
                                <i class="live-over-video-comments"></i>
                                <span>3.8万</span>
                            </div>
                        </div>
                        <img src="./imgs/h5player/over/angle_icon_video.png" alt="" class="rec-angle-icon angle-icon-video">
                    </a>
                    <a class="recommend-item recommend-item-live" href="">
                         <img src="https://kascdn.kascend.com/jellyfish/game/video/screenshot/907644079/1540840850261_crop.jpg" alt="" class="live-over-rec-img">
                        <div class="rec-info-box">
                            <p class="rec-info-title ellipsis">卡尔讲堂开讲啦</p>
                            <div class="rec-info-content">
                               <p class="rec-info-live ellipsis">
                                   <i class="live-over-gender-male"></i>
                                    <span class="rec-anchor-name ellipsis">主播名称主播名称</span>
                                   <i class="live-over-room-hot"></i>
                                    <span>883.8万</span>
                               </p>
                               <p class="rec-info-livearea ellipsis">全民突击</p>
                            </div>
                        </div>
                        <img src="./imgs/h5player/over/angle_icon_live.png" alt="" class="rec-angle-icon angle-icon-live">
                    </a>
                </div>
                <a class="back-to-home" href="">
                    <i class="live-over-backto-home"></i>
                    <span>返回首页</span>
                </a>
            </div>
            <!-- 直播中断 -->
            <div class="live-interrupt">
                <img src="./imgs/h5player/interrupt/cry.png" alt="" class="live-interrupt-icon">
                <div class="live-interrupt-box">
                    <p class="live-interrupt-title">直播链接已断开</p>
                    <p class="live-interrupt-text"><span class="live-interrupt-ball"></span>可能主播的网络问题导致断开了直播</p>
                    <p class="live-interrupt-text"><span class="live-interrupt-ball"></span>可能您的网络加载失败</p>
                    <div class="live-interrupt-refresh">
                        <i class="live-interrupt-refresh-icon"></i>
                       重新刷新
                    </div>
                </div>
            </div>
        </div>
        <div class="live-h5player-video-box">
            <video class="live-h5player-video" id='h5player-video'></video>
        </div>
        <div class="live-h5player-barrage">
        </div>
        <div class="live-h5player-system">
            <!-- 喇叭 -->
        	<div class="system-message" id="system-message">
        		<div class="left-bar"></div>
                <div class="middle-bar">
                    <p class="message-content"></p>
                </div>
                <div class="right-bar"></div>
                <div class="clear"></div>
        	</div>
            <!-- 连击动画飘屏 -->
            <div class="giftcombo-animation" id="giftcombo-animation">
                <canvas class="left-bar" id="left-bar" width='50' height='28'></canvas>
                <div class="middle-bar">
                    <canvas class="" id="middle-bar" height='28'></canvas>
                    <div class="giftcombo-content">
                         <img src="./imgs/h5player/combo/0/gift.gif" alt="" class="giftcombo-img">
                         <p class="giftcombo-text"></p>
                    </div>
                </div>
                <canvas class="right-bar" id="right-bar" width='50' height='28'></canvas>
                <div class="clear"></div>
            </div>
        </div>
        <div class="live-h5player-controlbar controlbar-bottom">
            <div class="controlbar-left h5player-pauseplay" data-status='1'>
                <p class="controlbar-tip">暂停</p>
            </div>
            <div class="controlbar-left h5player-reload">
                <p class="controlbar-tip controlbar-tip-long">重新载入</p>
            </div>
            <div class="controlbar-right h5player-fullscreen">
                <p class="controlbar-tip controlbar-tip-long">窗口全屏</p>
            </div>
            <div class="controlbar-right h5player-pagescreen">
                <p class="controlbar-tip controlbar-tip-long">剧场模式</p>
            </div>
            <div class="controlbar-right h5player-definition">
                <p class="definition-text definition-sd"></p>
                <div class="definition-items">
                </div>
            </div>
            <div class="controlbar-right h5player-volume">
                <div class="volume-setbox">
                    <div class="volume-line">
                        <p class="volume-line-gray"></p>
                    </div>
                    <p class="volume-ball"></p>
                    <p class="volume-percent">10%</p>
                </div>
            </div>
            <div class="controlbar-right h5player-rotate">
                <p class="controlbar-tip controlbar-tip-long">屏幕旋转</p>
            </div>
            <div class="controlbar-right h5player-barrage" data-status="1">
                <div class="barrage-setbox">
                   <!--  <div class="barrage-set-column">
                        <p class="barrage-set-info">全屏弹幕输入</p>
                        <div class="barrage-fullscreen-input">
                            <div class="barrage-fullscreen-input-switch barrage-fullscreen-input-off" data-value='0'>关</div>
                            <div class="barrage-fullscreen-input-switch barrage-fullscreen-input-on active" data-value='1'>开</div>
                        </div>
                    </div> -->
                    <div class="barrage-set-column">
                        <p class="barrage-set-info">透明度</p>
                        <div class="barrage-opacity">
                            <p class="barrage-opacity-choice barrage-opacity-choice3" data-value="3">高</p>
                            <p class="barrage-opacity-choice barrage-opacity-choice2" data-value="2">中</p>
                            <p class="barrage-opacity-choice barrage-opacity-choice1" data-value="1">低</p>
                            <p class="barrage-opacity-choice barrage-opacity-choice0 active" data-value="0">无</p>
                        </div>
                    </div>
                    <div class="barrage-set-column barrage-set-column-position">
                        <p class="barrage-set-info">弹幕位置</p>
                        <div class="barrage-position">
                            <div class="barrage-position-choice barrage-position-choice2" data-value="2">
                                <i class="barrage-position-img barrage-position-bottomscreen"></i>
                                <p class="barrage-position-text">底端</p>
                            </div>
                            <div class="barrage-position-choice barrage-position-choice1" data-value="1">
                                <i class="barrage-position-img barrage-position-topscreen"></i>
                                <p class="barrage-position-text">顶端</p>
                            </div>
                            <div class="barrage-position-choice barrage-position-choice0 active" data-value="0">
                                <i class="barrage-position-img barrage-position-fullscreen"></i>
                                <p class="barrage-position-text">全屏</p>
                            </div>
                        </div>
                    </div>
                    <div class="barrage-tip-box">
                        <p class="controlbar-tip controlbar-tip-long">关闭弹幕</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="live-h5player-rightmenu">
            <p class="h5player-rightmenu-item"></p>
            <p class="h5player-rightmenu-item h5plyaer-switch-flash">切换到Flash播放器</p>
        </div>
    </div>
    <style>
    body{
        padding: 0;
        margin:0;
    }
    .test-btn {
        padding:5px 10px; 
        line-height: 40px;
        text-align: center;
        border: 1px solid rgba(0, 0, 0, .8);
        border-radius: 10px;
        float: left;
        margin-top: 20px;
        cursor: pointer;
        margin-left: 20px;
    }

    .test-input {
        width: 100px;
        height: 40px;
        line-height: 40px;
        padding-left: 20px;
        border: 1px solid rgba(0, 0, 0, .8);
        border-radius: 10px;
        outline: none;
        float: left;
        margin-top: 20px;
        margin-left: 20px;
    }
    </style>
    <div class="test-btn html5-btn">flash->html5</div>
    <div class="test-btn flash-btn">html5->flash</div>
    <!-- <input type="text" placeholder="输入房间号" class="test-input"> -->
    <!-- <div class="test-btn start-btn">开始</div> -->
    <!-- <div class="test-btn play-btn">切回h5</div> -->
    <script type="text/javascript" src="https://cdn.kascend.com/jellyfish/sysv730/js/lib/jquery/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="./js/util/config.js"></script>
    <script type="text/javascript" src="./js/util/chushou_emoji.js"></script>
    <script type="text/javascript" src="./js/flv.min.js"></script>
    <script type="text/javascript" src="./js/h5playerStreamManager.js"></script>
    <script type="text/javascript" src="./js/h5playerGiftcomboAnimation.js"></script>
    <script type="text/javascript" src="./js/h5playerSystemMessage.js"></script>
    <script type="text/javascript" src="./js/h5playerBarrageQueue.js"></script>
    <script type="text/javascript" src="./js/h5playerBarrageTunnelManager.js"></script>
    <script type="text/javascript" src="./js/h5playerBarrageBulletManager.js"></script>
    <script type="text/javascript" src="./js/h5playerBarrage.js"></script>
    <script type="text/javascript" src="./js/h5playerLive.js"></script>
    <script type="text/javascript" src="./js/h5playerControlBar.js"></script>
    <script type="text/javascript" src="./js/h5player.js"></script>
    <script type="text/javascript">
    var h5player = null;
    $('.html5-btn').click(function(){
        if(!h5player){
             h5player = new H5player({
                roomId: 4536540,
                host: '',
                videoId: '',
                anchorName:'xxx',
                userUid: 1001//当前用户的uid
            });
             h5player.init(function(){

             })
        }else{
             h5player.switchBack();
        }

    })
     $('.flash-btn').click(function() {
        if(h5player){
            h5player.destroy();
        }else{
            console.log('no h5player still..');
        }
    })
    
    $('.start-btn').click(function() {
        h5player = null;
        var roomId = $('.test-input').val();
        h5player = new H5player({
            roomId: roomId,
            host: '',
            videoId: 'video',
            userUid: 1001
        });
    })

    $('.play-btn').click(function() {
        h5player.switchBack();
    })
    </script>
</body>

</html>